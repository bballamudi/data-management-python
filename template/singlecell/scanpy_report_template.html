<html>
    <head>
      <!-- Global site tag (gtag.js) - Google Analytics -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=UA-111031356-1"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

        gtag('config', 'UA-111031356-1');
      </script>
      <title>Scanpy Report {{ ProjectName }} {{ SampleName }}</title>
    </head>
    <body>
        <h2>Project info</h2>
        <dt>Project Name</dt>
           <dd>{{ ProjectName }}</dd>
        <p></p>
        <dt>Sample Name</dt>
           <dd>{{ SampleName }}</dd>
        
        <h2>Description</h2>
        <p>Scanpy tool is used for checking an initial qc of the single cell data after cellranger count run.</p>
        <p>This analysis is based on the following Scanpy tutorials:</p>
        <ul>
          <li><a href="https://nbviewer.jupyter.org/github/theislab/scanpy_usage/blob/master/170505_seurat/seurat.ipynb">Clustering 3k PBMCs following a Seurat Tutorial</a></li>
          <li><a href="https://nbviewer.jupyter.org/github/theislab/scanpy_usage/blob/master/170503_zheng17/zheng17.ipynb">Profiling Scanpy for 68k PBMC cells of Zheng et al., Nat. Comm. (2017)</a></li>
        </ul>

        <h2>Check for mitochondrial gene expression</h2>
          <h3>Violin plot for MT gene expression counts</h3>
          <img src="data:image/png;base64,{{ MitoPlot }}">
        
          <h3>Scatter plots for MT gene expression counts</h3>
          <img src="data:image/png;base64,{{ MitoScatter1 }}">
          <img src="data:image/png;base64,{{ MitoScatter2 }}">
        
        <h2>Genes dispersion plot</h2>
        <img src="data:image/png;base64,{{ GenesDispersion }}">
        
        <h2>PCA ranking plot</h2>
        <img src="data:image/png;base64,{{ Pca }}">
        
        <h2>tSNE Plot of louvain clusters</h2>
        <img src="data:image/png;base64,{{ Tsne }}">
        
        <h2>Rank Genes Groups</h2>
        <img src="data:image/png;base64,{{ RankGenesGroups }}">
        
        <h2>Check for marker genes in cluster</h2>
        {% for data in MarkerGeneViolin %}
          <h3>Violin plot for cell cluster {{ data['cluster'] }}</h2>
          <img src="data:image/png;base64,{{ data['violin_data'] }}">
        
        {% endfor %}
    </body>
</html>